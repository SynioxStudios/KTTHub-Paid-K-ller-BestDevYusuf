--[[
    KTT PAID KILL FARM
    Yapımcı: ByYusuf
    Özellikler: Cross-Server Player Tracker & Teleport
]]

local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local LocalPlayer = Players.LocalPlayer

-- GUI OLUŞTURMA
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local Title = Instance.new("TextLabel")
local Credit = Instance.new("TextLabel")
local PlayerInput = Instance.new("TextBox")
local JoinButton = Instance.new("TextButton")
local JoinCorner = Instance.new("UICorner")

-- Panel Ayarları
ScreenGui.Parent = game.CoreGui
ScreenGui.Name = "KTT_PaidKillFarm"

MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
MainFrame.Position = UDim2.new(0.3, 0, 0.4, 0)
MainFrame.Size = UDim2.new(0, 500, 0, 150)
MainFrame.Active = true
MainFrame.Draggable = true
UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = MainFrame

-- Başlık
Title.Parent = MainFrame
Title.BackgroundTransparency = 1
Title.Position = UDim2.new(0.05, 0, 0.05, 0)
Title.Size = UDim2.new(0, 250, 0, 30)
Title.Font = Enum.Font.GothamBold
Title.Text = "KTT PAID KILL FARM"
Title.TextColor3 = Color3.fromRGB(255, 0, 0)
Title.TextSize = 18
Title.TextXAlignment = Enum.TextXAlignment.Left

-- ByYusuf İmzası
Credit.Parent = MainFrame
Credit.BackgroundTransparency = 1
Credit.Position = UDim2.new(0.65, 0, 0.75, 0)
Credit.Size = UDim2.new(0, 160, 0, 30)
Credit.Font = Enum.Font.Code
Credit.Text = "ByYusuf"
Credit.TextColor3 = Color3.fromRGB(150, 150, 150)
Credit.TextSize = 18
Credit.TextXAlignment = Enum.TextXAlignment.Right

-- Giriş Kutusu (TextBox)
PlayerInput.Parent = MainFrame
PlayerInput.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
PlayerInput.Position = UDim2.new(0.05, 0, 0.4, 0)
PlayerInput.Size = UDim2.new(0, 250, 0, 35)
PlayerInput.PlaceholderText = "Hedef oyuncu ismini yaz..."
PlayerInput.Text = ""
PlayerInput.TextColor3 = Color3.fromRGB(255, 255, 255)
local InputCorner = Instance.new("UICorner")
InputCorner.CornerRadius = UDim.new(0, 5)
InputCorner.Parent = PlayerInput

-- JOIN / TP Butonu
JoinButton.Parent = MainFrame
JoinButton.BackgroundColor3 = Color3.fromRGB(0, 120, 0)
JoinButton.Position = UDim2.new(0.58, 0, 0.4, 0)
JoinButton.Size = UDim2.new(0, 120, 0, 35)
JoinButton.Font = Enum.Font.GothamBold
JoinButton.Text = "JOIN / TP"
JoinButton.TextColor3 = Color3.fromRGB(255, 255, 255)
JoinCorner.Parent = JoinButton

-- FONKSİYONLAR
JoinButton.MouseButton1Click:Connect(function()
    local targetName = PlayerInput.Text
    if targetName == "" then 
        PlayerInput.Text = "İsim yazmalısın!"
        task.wait(1)
        PlayerInput.Text = ""
        return 
    end
    
    PlayerInput.Text = "Aranıyor..."
    
    -- 1. Server İçinde Arama
    local foundLocal = false
    for _, v in pairs(Players:GetPlayers()) do
        if v.Name:lower():sub(1, #targetName) == targetName:lower() then
            foundLocal = true
            if v.Character and v.Character:FindFirstChild("HumanoidRootPart") then
                LocalPlayer.Character.HumanoidRootPart.CFrame = v.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, 3)
                PlayerInput.Text = "Işınlandı: " .. v.Name
            end
            break
        end
    end

    -- 2. Farklı Server'da Arama (Eğer serverda yoksa)
    if not foundLocal then
        PlayerInput.Text = "Serverlar taranıyor..."
        
        local success, targetId = pcall(function()
            return Players:GetUserIdFromNameAsync(targetName)
        end)

        if success and targetId then
            local jumpSuccess, err = pcall(function()
                -- Oyuncunun 'Join' ayarları açıksa otomatik o server'a aktarır
                TeleportService:TeleportToPlaceInstance(game.PlaceId, "", LocalPlayer)
            end)
            
            if not jumpSuccess then
                PlayerInput.Text = "Ayarlar Kapalı!"
            end
        else
            PlayerInput.Text = "Oyuncu Bulunamadı!"
        end
    end
    
    task.wait(2)
    PlayerInput.Text = ""
end)

print("KTT PAID KILL FARM Başarıyla Yüklendi! Yapımcı: ByYusuf")
